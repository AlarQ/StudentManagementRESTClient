<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
      <title>Student form</title>
      <link href="../static/css/style.css" 
         th:href="@{/css/style.css}" rel="stylesheet" />
   </head>
   <!-- Bootstrap CSS -->
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
   <link href="../static/css/style.css" 
      th:href="@{/css/style.css}" rel="stylesheet" />
   <title>Hello, world!</title>
   </head>
   <body>
      <div class="container text-center">
         <header>
            <h1 class="head">
            Student Manager</h3>
         </header>
         <main class="text-center">
            <header>
               <h5 class="head">Student details</h5>
            </header>
            <div id="content">
               <table  class="table table-striped table-dark">
                  <thead class="thead-dark">
                     <th>First name</th>
                     <th>Last name</th>
                     <th>Email</th>
                     <th>Year</th>
                     <th>Birth date</th>
                     <th>birth place</th>
                     <th>Address</th>
                  </thead>
                  <tbody>
                     <tr>
                        <td th:text="${student.firstName}"/>
                        <td th:text="${student.lastName}"/>
                        <td th:text="${student.email}"/>
                        <td th:text="${student.year}"/>
                        <td th:text="${student.studentDetails.birthDate}"/>
                        <td th:text="${student.studentDetails.birthPlace}"/>
                        <td th:text="${student.studentDetails.address}"/>
                     </tr>
                  </tbody>
               </table>
               <header>
                  <h5 class="head">Student courses</h5>
               </header>
               <table  class="table table-striped table-dark">
                  <thead class="thead-dark">
                     <th>Name</th>
                     <th>Term</th>
                     <th>Action</th>
                  </thead>
                  <tbody>
                     <tr th:each="tempCourse : ${courses}">
                        <td th:text="${tempCourse.name}"/>
                        <td th:text="${tempCourse.term}"/>
                        <td>
                           <div class="text-center">		
                              <a th:href="@{/course/delete(id=${tempCourse.id})}"
                                 class="btn btn-danger btn-sm btn-action"
                                 onclick="if (!(confirm('Are you sure you want to delete this student?'))) return false">
                              Delete
                              </a>
                           </div>
                        </td>
                     </tr>
                  </tbody>
               </table>
               <form action="#" th:action="@{/student/addCourseToStudent(studentId=${student.id})}"
                  th:object="${course}" method="POST">
                  Course
                  <select th:field="*{id}">
                     <option th:each="tempCourse : ${allCourses}"
                        th:value="${tempCourse.id}" 
                        th:text="${tempCourse.name}">
                     </option>
                  </select>
                  <button type="submit" class="btn btn-primary col-2">Add coourse</button>
               </form>
               <a th:href="@{/student/list}"
                  class="btn btn-secondary btn-sm mb-3 btn-back">
               Back to list
               </a>
               <a th:href="@{/}"
                  class="btn btn-secondary btn-sm mb-3 btn-back">
               Back to home
               </a>
            </div>
         </main>
      </div>
   </body>
</html>